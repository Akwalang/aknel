(function($,l){var A={host:'',b:function(a,b){if(b=='last')var b=a.length-1;else var b=parseInt(b);return a.charAt(b)},c:function(a,b,c){var d=a.indexOf(b);if(d!=-1)if(c=='end')return a.slice(0,d);else{var e=b.length;return a.slice(d+e)}else return a},d:function(a,b){var c,clined=this.c(this.c(a.replace(/-\/\/-administrator.*$/gi,''),'http://'),l.host);if(clined.lastIndexOf(window.pageType)==clined.length-window.pageType.length&&!b)clined=clined.slice(0,clined.length-window.pageType.length);if(clined.charAt(0)!='/')clined='/'+clined;if(c=languages.length&&!b)while(c)if(clined.indexOf(languages[--c])==0){clined=clined.substr(languages[c].length-1);break}return clined},e:function(a){cleared=this.c(this.c(this.c(a,'http://'),'www.'),'/','end');if(this.b(cleared,'last')=='.'){cleared=cleared.slice(0,-1)}return cleared},f:function(a){if(a==this.host||a==this.host+'.'||a.indexOf('?')!=-1||a.indexOf('#')!=-1)return true;var b=a.indexOf(window.pageType);if(b!=-1&&b+window.pageType.length==a.length)return true;return false},g:function(a){if(this.b(a,0)=='/')return true;else if(a.indexOf('/')==-1&&a.indexOf('www.')==-1)return this.f(a);else if(this.e(a)==this.host)return true;else return false},h:function(){this.host=this.e(l.href)}},T={a:'',b:'json',c:'',d:{a:'',b:'',c:'',d:function(){if(o.e.a)this.c=templSets[o.a].distruct-(this.b-this.a);else this.c=templSets[o.b].change.start-(this.b-this.a);if(this.c<0)this.c=0;return this.c},e:function(){return this.c=o.e.a?templSets[o.a].distruct:0}},e:{a:false,b:function(){if(!I.a)if(T.e.a)I.j=I.f();else clearInterval(I.j);this.a=!this.a},c:false,d:function(){this.c=true}},f:function(a,b){a=A.d(a);b=A.d(l.pathname);if(I.a&&a==b)return true;if(!I.a){var c=A.d(l.hash.slice(1)),thisPath=b;if(a==c||(a==thisPath&&c==''))return true}return false},g:function(){q.d(T.a,function(){T.d.b=$.now();setTimeout(function(){T.i();o.l();O.c()},T.d.d())})},h:function(){q.d(T.a,function(){T.d.b=$.now();setTimeout(function(){o.g();setTimeout(function(){T.i();o.l()},T.d.e())},T.d.d())})},i:function(){$.favicon(T.a.favicon);document.title=T.a.title;$('<div class="ajax_loader '+T.a.loader+'"></div>').html(T.a.content).prependTo(T.c);setTimeout(function(){T.e.b();I.i()},o.e.a?templSets[o.b].construct:templSets[o.b].change.end)},j:function(a){var b=$(this).attr('href');if(A.g(b)){a.preventDefault();if(T.f(b)||T.e.a)return;T.k(b);I.c(b)}},k:function(b){T.e.b();T.d.a=$.now();I.h(b);o.k(b);$.ajax({url:b,data:'ajax=true'+O.d(),async:true,dataType:T.b,type:'POST',processData:false,success:function(a){T.a=a;T.g();I.currentPath=A.d(b)},error:function(a){if(a.status!=404&&a.status!=504)T.a=load_error;else T.a=$.parseJSON(a.responseText);T.h();I.currentPath=A.d(b)}})},l:function(){this.c=$('.ajax_loader').parent('div');$('a:not(.off)').live('click',T.j)}},I={a:false,b:false,c:function(a){if(I.a)history.pushState(null,null,a);else{var b=A.d(a,1);if($.browser.msie&&parseInt($.browser.version)<8)I.l.append('<a name="'+b+'" class="fictiveAnchor"></a>');T.e.d();I.k=b;l.hash=b;if($.browser.msie&&parseInt($.browser.version)<8)$('.fictiveAnchor').remove()}},d:function(a){if(I.b){history.replaceState(null,null,a)}},e:function(){if(I.k!=l.hash.slice(1))I.g()},f:function(){return setInterval(function(){I.e()},150)},g:function(){I.k=l.hash.slice(1);var a=I.k;if(a==''){a=A.d(l.href,1)}if(T.e.a)return;T.k("http://"+l.hostname+a)},h:function(a){if(I.a)I.currentPath=a},i:function(){if(I.a){var a=A.d(l.href);if(I.currentPath!=a){I.currentPath=a;T.k(l.href)}}},j:function(){if(window.history&&history.pushState){I.a=true;I.currentPath=A.d(l.href);if(history.replaceState)I.b=true}else{I.a=false;I.j;I.k=l.hash;I.l=$('body')}$(window).load(function(){if(I.a){window.addEventListener("popstate",function(e){if(T.e.a)return;if(T.e.c||$.browser.opera||$.browser.mozilla)T.k(l.href);else T.e.d()},false)}else{if(I.k.indexOf('#')!=-1)I.k=I.k.slice(1);var a=true;if(I.k==A.d(l.href))a=false;if(!T.e.c&&I.k!=''&&a){T.e.d();setTimeout(function(){I.g()},templSets.showBackground)}I.j=I.f()}})}},o={a:'',b:'',c:null,d:null,e:{a:false},f:function(a){if(a!='error')a=A.d(a);for(var b in TaL)if(typeof TaL[b]=='object'&&(TaL[b]instanceof Array)&&$.inArray(a,TaL[b])!=-1)return b;return TaL.defaultTemplate},g:function(){var a;for(var b in TaL)if(typeof TaL[b]=='object'&&(TaL[b]instanceof Array)&&$.inArray('error',TaL[b])!=-1)a=b;if(!a)a=TaL.defaultTemplate;if(o.b!=a){o.e.a=true;o.a=o.b;o.b=a;templates[o.a].distruct()}else o.e.a=false},h:function(a){var b=A.d(a),reg=/([^\/]*)\/[^\/]*$/i,category=reg.exec(b)[1];return categories[category]||0},i:function(a,b){if(typeof templates.MenuChange=='function')templates.MenuChange(a,b)},j:function(){if(typeof templates.ModuleChange=='function'&&this.c!=this.d)templates.ModuleChange(this.c,this.d)},k:function(a){this.a=this.b;this.b=this.f(a);this.d=this.c;this.c=this.h(a);a=A.d(a)+pageType;o.i(a,this.c);o.j();if(o.b!=o.a){o.e.a=true;templates[o.a].distruct()}else{o.e.a=false;templates[o.b].content.hide()}},l:function(){if(o.e.a){templates[o.b].position();templates[o.b].construct()}else templates[o.b].content.show()},m:function(){if(I.a){templates[this.b].startHide();templates[this.b].startShow()}else{if(this.a==''||this.a==this.b){templates[this.b].startHide();templates[this.b].startShow()}else if(this.a!=this.b){templates[this.a].startHide();templates[this.b].position();templates[this.b].startShow()}}},I:function(){if(I.a){if(error_handler)this.b=this.f('error');else this.b=this.f(l.href);this.c=this.h(l.href)}else{if(I.k.indexOf('#')==-1){if(error_handler)this.b=this.f('error');else this.b=this.f(l.href);this.c=this.h(l.href)}else{var a=I.k.slice(1);if(error_handler)this.a=this.f('error');else this.a=this.f(l.pathname);this.b=this.f(a);this.c=this.h(l.pathname)}}templates.Init(o.b);o.m()}},O={a:{},b:null,c:function(){var a,target,i,len,$element,modules=T.a.modules;for(a in modules){target=O.b.filter('.'+a);for(i=0,len=modules[a].length;i<len;i++){$element=$(modules[a][i]);$element.insertAfter(target);O.a[a][1]($element)}}O.a={}},d:function(){var a,len,i,m,result='';for(a in O.a){m=O.a[a][0];for(i=0,len=m.length;i<len;i++){result+='&';result+='modules['+a+'][]='+m[i]}}return result},e:function(a,b,c){O.a[a]=[b,c]},f:function(a,b,c){var i,id,len,Old=[],New=[],Remove=[],Load=[],cur=o.c,prev=o.d;for(id in positions[a])if($.inArray(prev,positions[a][id])!=-1)Old.push(parseInt(id));for(id in positions[a])if($.inArray(cur,positions[a][id])!=-1)New.push(parseInt(id));for(i=0,len=Old.length;i<len;i++)if($.inArray(Old[i],New)==-1)Remove.push(Old[i]);for(i=0,len=New.length;i<len;i++)if($.inArray(New[i],Old)==-1)Load.push(New[i]);O.e(a,Load,c);if(Remove.length&&typeof b=='function')b();return{Old:Old,New:New,Remove:Remove,Load:Load}},g:function(){O.b=$('marker')}},q={a:{script:[],style:[]},b:{script:'script',style:'link[rel="stylesheet"]'},c:function(a,b){if($.inArray(b,this.a[a])!=-1)return true;this.a[a].push(b);var c;switch(a){case'script':c=$('<script></script>').attr({src:b,type:'text/javascript',charset:'utf-8'});break;case'style':c=$('<link />').attr({href:b,type:'text/css',rel:'stylesheet',charset:'utf-8'});break}c.appendTo('head:first')},d:function(a,b){var c,i=0;if(a.scripts)for(c=a.scripts.length;i<c;){this.c('script',a.scripts[i++])}i=0;if(a.styles)for(c=a.styles.length;i<c;)this.c('style',a.styles[i++]);if(b)b()},e:function(){for(var b in this.b)$(this.b[b]).each(function(){var a=$(this);q.a[b].push(a.attr('src')||a.attr('href'))})}};$(function(){q.e();A.h();T.l();I.j();o.I();O.g()});window.ak={File:q,GetCatId:o.h,RegisterModules:O.f}})(jQuery,window.location);